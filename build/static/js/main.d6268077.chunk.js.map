{"version":3,"sources":["webBridge.js","utils/getTenant.ts","constants/index.ts","styles/global.ts","styles/LandingPage.ts","PhaserLoader/LoadingUI.tsx","PhaserLoader/index.tsx","utils/getRandomInt.ts","containers/LandingPage.tsx","App.tsx","redux/reducers/index.ts","redux/store/index.ts","serviceWorker.ts","index.tsx"],"names":["messagingIframe","window","inBeeShop","navigator","userAgent","toLowerCase","indexOf","WebViewJavascriptBridge","sendMessageQueue","receiveMessageQueue","messageHandlers","responseCallbacks","uniqueId","hooks_map","_doSend","message","responseCallback","__appHasPendingCacheUpdate__","callbackId","Date","push","src","CUSTOM_PROTOCOL_SCHEME","gabridge","sendMsg","JSON","stringify","_dispatchMessageFromObjC","messageJSON","parse","err","console","warn","responseId","responseData","callbackResponseId","handler","_messageHandler","handlerName","k","hasOwnProperty","data","exception","log","hasHandler","has","hasHandlerCB","onHasHandler","init","messageHandler","receivedMessages","setTimeout","i","length","send","registerHandler","handlerId","toString","unregisterHandler","stillHasHandler","_temp","callHandler","ex","imageUrls","url","ITEM_IMAGE_BASE_URL","replace","e","addHook","hookFunc","key","delHook","appHasHandler","name","_appHandlers","_fetchQueue","messageQueueString","_handleMessageFromObjC","reset","doc","document","createElement","style","display","documentElement","appendChild","_createQueueReadyIframe","readyEvent","createEvent","initEvent","bridge","dispatchEvent","connectWebViewJavascriptBridge","callback","addEventListener","dismissNonShopeeBridge","getTenant","COLOR","FONT_WEIGHT","tenantArray","location","hostname","split","slice","tenant","TENANT_ID","AppContainer","styled","div","GlobalStyle","createGlobalStyle","isHelvetica","BACKGROUND","LandingPageContainer","PlayButton","LoadingStyle","position","alignItems","justifyContent","backgroundColor","color","height","width","LoadingUI","progress","PhaserLoader","props","max","limit","Math","floor","random","setProgress","setState","useProgress","hasFontLoaded","state","isReadyToLoad","dummyLoad","setInterval","clearInterval","loadFont","fonts","load","finally","renderPhaser","PhaserComponent","component","this","React","Component","Phaser","loadable","LandingPage","handlePlay","page","onClick","App","reducers","combineReducers","createStore","applyMiddleware","ThunkMiddleware","Boolean","match","ReactDOM","render","store","basename","process","REACT_APP_FORTUNE_URL","getElementById","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.d6268077.chunk.js","sourcesContent":["// @ts-ignore\nvar CUSTOM_PROTOCOL_SCHEME = 'wvjbscheme';\nvar QUEUE_HAS_MESSAGE = '__WVJB_QUEUE_MESSAGE__';\n(function() {\n  window.inBeeShop = function() {\n    return (\n      window &&\n      window.navigator &&\n      window.navigator.userAgent &&\n      window.navigator.userAgent.toLowerCase().indexOf('beeshop') !== -1\n    );\n  };\n  if (\n    window.WebViewJavascriptBridge ||\n    !window ||\n    !window.navigator ||\n    !window.navigator.userAgent ||\n    window.navigator.userAgent.indexOf('Beeshop') === -1\n  ) {\n    // return;\n  }\n  var messagingIframe;\n  var sendMessageQueue = [];\n  var receiveMessageQueue = [];\n  var messageHandlers = {};\n  var responseCallbacks = {};\n  var uniqueId = 1;\n  function reset() {\n    sendMessageQueue = [];\n    receiveMessageQueue = [];\n    messageHandlers = {};\n    responseCallbacks = {};\n    uniqueId = 1;\n    window.WebViewJavascriptBridge._messageHandler = null;\n  }\n  function _createQueueReadyIframe(doc) {\n    messagingIframe = doc.createElement('iframe');\n    messagingIframe.style.display = 'none';\n    messagingIframe.src = CUSTOM_PROTOCOL_SCHEME + '://' + QUEUE_HAS_MESSAGE;\n    doc &&\n      doc.documentElement &&\n      doc.documentElement.appendChild(messagingIframe);\n  }\n  function init(messageHandler) {\n    if (window.WebViewJavascriptBridge._messageHandler) {\n      console.warn('WebViewJavascriptBridge.init called twice');\n      return null;\n    }\n    window.WebViewJavascriptBridge._messageHandler = [messageHandler];\n    var receivedMessages = receiveMessageQueue;\n    receiveMessageQueue = null;\n    setTimeout(function() {\n      if (receivedMessages) {\n        for (var i = 0; i < receivedMessages.length; i++) {\n          _dispatchMessageFromObjC(receivedMessages[i]);\n        }\n      }\n    }, 0);\n  }\n  function send(data, responseCallback) {\n    _doSend({ data: data }, responseCallback);\n  }\n  function registerHandler(handlerName, handler, handlerId) {\n    if (typeof messageHandlers[handlerName] === 'undefined') {\n      messageHandlers[handlerName] = {};\n    }\n    handlerId = handlerId || handler.toString();\n    messageHandlers[handlerName][handlerId] = handler;\n    hasHandlerCB(handlerName);\n  }\n  function unregisterHandler(handlerName, handlerId) {\n    if (!handlerId) return;\n    var handler = messageHandlers[handlerName];\n    if (!handler) return;\n    delete handler[handlerId];\n    var stillHasHandler = false;\n    for (var _temp in handler) {\n      if (handler.hasOwnProperty(_temp)) {\n        stillHasHandler = true;\n        break;\n      }\n    }\n    if (!stillHasHandler) {\n      delete messageHandlers[handlerName];\n      hasHandlerCB(handlerName);\n    }\n  }\n  var hooks_map = {};\n  function addHook(hookFunc) {\n    var key = hookFunc.toString();\n    if (hooks_map[key]) return;\n    hooks_map[key] = hookFunc;\n  }\n  function delHook(hookFunc) {\n    var key = hookFunc.toString();\n    delete hooks_map[key];\n  }\n  function callHandler(handlerName, data, responseCallback) {\n    for (var k in hooks_map) {\n      if (!hooks_map.hasOwnProperty(k)) continue;\n      try {\n        hooks_map[k](handlerName, data);\n      } catch (ex) {}\n    }\n    if (handlerName === 'fullScreenImage' && data) {\n      var imageUrls = data['imageUrls'];\n      if (imageUrls && imageUrls.length) {\n        try {\n          for (var i = 0; i < imageUrls.length; i++) {\n            var url = imageUrls[i];\n            if (\n              typeof url !== 'string' ||\n              url.indexOf(window.ITEM_IMAGE_BASE_URL) < 0\n            )\n              continue;\n            imageUrls[i] = url.replace('/webp/', '/');\n          }\n        } catch (e) {}\n      }\n    }\n    _doSend({ handlerName: handlerName, data: data }, responseCallback);\n  }\n  function _doSend(message, responseCallback) {\n    if (window.__appHasPendingCacheUpdate__) return;\n    if (responseCallback) {\n      var callbackId = 'cb_' + uniqueId++ + '_' + +new Date();\n      responseCallbacks[callbackId] = responseCallback;\n      message['callbackId'] = callbackId;\n    }\n    if (window.navigator.userAgent.toLowerCase().indexOf('android') === -1) {\n      sendMessageQueue.push(message);\n      messagingIframe.src = CUSTOM_PROTOCOL_SCHEME + '://' + QUEUE_HAS_MESSAGE;\n    } else {\n      if (window.gabridge) {\n        window.gabridge.sendMsg(JSON.stringify(message));\n      }\n    }\n  }\n  function _fetchQueue() {\n    var messageQueueString = JSON.stringify(sendMessageQueue);\n    sendMessageQueue = [];\n    return messageQueueString;\n  }\n  function _dispatchMessageFromObjC(messageJSON) {\n    var message;\n    if (window.__appHasPendingCacheUpdate__) return;\n    try {\n      message = JSON.parse(messageJSON);\n    } catch (err) {\n      message = {};\n      console.warn('Bridge dispatch failed. err = ' + err);\n    }\n\n    var responseCallback;\n    if (message.responseId) {\n      responseCallback = responseCallbacks[message.responseId];\n      if (!responseCallback) {\n        return;\n      }\n      responseCallback(message.responseData);\n      delete responseCallbacks[message.responseId];\n    } else {\n      if (message.callbackId) {\n        var callbackResponseId = message.callbackId;\n        responseCallback = function responseCallback(responseData) {\n          _doSend({\n            responseId: callbackResponseId,\n            responseData: responseData\n          });\n        };\n      }\n      var handler = window.WebViewJavascriptBridge._messageHandler;\n      if (message.handlerName) {\n        handler = messageHandlers[message.handlerName];\n      }\n      if (typeof handler === 'undefined') return;\n      for (var k in handler) {\n        if (!handler.hasOwnProperty(k)) continue;\n        try {\n          handler[k](message.data, responseCallback);\n        } catch (exception) {\n          if (typeof console !== 'undefined') {\n            console.log(\n              'WebViewJavascriptBridge: WARNING: javascript handler threw.',\n              message,\n              exception\n            );\n          }\n        }\n      }\n    }\n  }\n  function _handleMessageFromObjC(messageJSON) {\n    if (receiveMessageQueue) {\n      receiveMessageQueue.push(messageJSON);\n    } else {\n      _dispatchMessageFromObjC(messageJSON);\n    }\n  }\n  function hasHandler(handlerName) {\n    var has = false;\n    try {\n      has = null != messageHandlers[handlerName];\n    } catch (exception) {\n      has = false;\n    }\n    return has ? 'true' : 'false';\n  }\n  function hasHandlerCB(handlerName) {\n    if (!window.gabridge) return;\n    window.gabridge.onHasHandler(handlerName, hasHandler(handlerName));\n  }\n  function appHasHandler(name) {\n    return (\n      window.WebViewJavascriptBridge._appHandlers &&\n      window.WebViewJavascriptBridge._appHandlers.indexOf(name) >= 0\n    );\n  }\n  window.WebViewJavascriptBridge = {\n    init: init,\n    send: send,\n    registerHandler: registerHandler,\n    unregisterHandler: unregisterHandler,\n    callHandler: callHandler,\n    hasHandler: hasHandler,\n    hasHandlerCB: hasHandlerCB,\n    addHook: addHook,\n    delHook: delHook,\n    appHasHandler: appHasHandler,\n    _fetchQueue: _fetchQueue,\n    _handleMessageFromObjC: _handleMessageFromObjC,\n    reset: reset\n  };\n  var doc = document;\n  _createQueueReadyIframe(doc);\n  var readyEvent = doc.createEvent('Events');\n  readyEvent.initEvent('WebViewJavascriptBridgeReady');\n  readyEvent.bridge = window.WebViewJavascriptBridge;\n  doc.dispatchEvent(readyEvent);\n})();\nwindow.connectWebViewJavascriptBridge = function(callback) {\n  if (window.WebViewJavascriptBridge) {\n    callback(window.WebViewJavascriptBridge);\n  } else {\n    document.addEventListener(\n      'WebViewJavascriptBridgeReady',\n      function() {\n        if (window.dismissNonShopeeBridge) {\n          if (window.dismissNonShopeeBridge()) return;\n        }\n        callback(window.WebViewJavascriptBridge);\n      },\n      false\n    );\n  }\n};\n","import { T_TENANT } from '../interfaces';\n\n/**\n * Get Tenant from Host name.\n *\n * @returns {T_TENANT}\n */\nfunction getTenant(): T_TENANT {\n  const ARRAY_TENANT = ['id', 'my', 'ph', 'sg', 'tw', 'th', 'vn'];\n  const hostName = window.location.hostname;\n  // Get last index to get the tenant\n  const tenantArray = hostName.split('.').slice(-1);\n\n  // When slicing is no data, return tenant ID (Development mode)\n  if (tenantArray.length === 0) {\n    return 'id';\n  }\n\n  // Uppercase the last tenant\n  const tenant = tenantArray[0];\n  // If the tenant ID is not same with ARRAY_TENANT then it is Development mode / tenant not registered\n  if (ARRAY_TENANT.indexOf(tenant) === -1) {\n    return 'id';\n  }\n\n  return tenant as T_TENANT;\n}\n\nexport default getTenant;\n","import getTenant from '../utils/getTenant';\n\n/**\n * Color palette for Shopee.\n * Based on http://shopee.design/app-guideline/color\n *\n * @constant {*}\n */\nexport enum COLOR {\n  BACKGROUND = 'efefef',\n  BLACK = '000',\n  BLACK65 = 'rgba(0,0,0,.65)',\n  BLACK87 = 'rgba(0,0,0,.87)',\n  BOX = 'f5f5f5',\n  DISABLE = 'bdbdbd',\n  DARK_GREY = '212121',\n  LINE = 'e8e8e8',\n  PRIMARY = 'ee4d2d',\n  SUBTITLE = '595959',\n  SUBTITLE_LIGHT = '757575',\n  TITLE = '212121',\n  WHITE = 'fff',\n  WHITE87 = 'rgba(255,255,255,.87)'\n}\n\n/**\n * Font Weight properties from Google.\n * Based on https://developer.mozilla.org/en-US/docs/Web/CSS/font-weight#Common_weight_name_mapping\n *\n * @constant {*}\n */\nexport enum FONT_WEIGHT {\n  BLACK = 900,\n  BOLD = 700,\n  LIGHT = 300,\n  MEDIUM = 500,\n  REGULAR = 400,\n  THIN = 100\n}\n\nexport const TENANT_ID = getTenant();\n","import styled, { createGlobalStyle } from 'styled-components';\nimport { COLOR } from '../constants';\nimport { IGlobalStyle } from '../interfaces';\n\nexport const AppContainer = styled.div`\n  width: 100%;\n\n  @media (min-width: 600px) {\n    width: 600px;\n    margin: auto;\n  }\n`;\n\nexport const GlobalStyle = createGlobalStyle<IGlobalStyle>`\n  *, ::after, ::before {\n    box-sizing: border-box;\n  }\n\n  html, body {\n    padding: 0;\n    margin: 0;\n    font-family: ${({ isHelvetica }) =>\n      isHelvetica\n        ? `\n      Helvetica Neue, Helvetica, Arial,\\\\6587\\\\6CC9\\\\9A5B\\\\6B63\\\\9ED1,WenQuanYi Zen Hei,Hiragino Sans GB,\n      \\\\5137\\\\9ED1 Pro,LiHei Pro,Heiti TC,\\\\5FAE\\\\8EDF\\\\6B63\\\\9ED1\\\\9AD4,Microsoft JhengHei UI,\n      Microsoft JhengHei,sans-serif\n    `\n        : `\n      Roboto, \"Helvetica Neue\", Helvetica, Arial, \"\\\\6587泉驛正黑\", \"WenQuanYi Zen Hei\", \"Hiragino Sans GB\",\n      \"\\\\5137黑Pro\", \"LiHei Pro\", \"Heiti TC\", \"\\\\5FAE軟正黑體\", \"Microsoft JhengHei UI\", \"Microsoft JhengHei\",\n      sans-serif\n    `} !important;\n\n    height: 100vh;\n    width: 100%;\n\n    background-color: #${COLOR.BACKGROUND};\n  }\n\n  button {\n    border: 0;\n    box-shadow: none;\n    outline: none;\n\n    &:active, &:hover, &:focus {\n      border: 0;\n      box-shadow: none;\n      outline: none;\n    }\n  }\n`;\n","import styled from 'styled-components';\n\nconst LandingPageContainer = styled.div`\n  position: fixed;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background-color: #493a52;\n  color: black;\n  height: 100vh;\n  width: 100vw;\n`;\n\nconst PlayButton = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 10px;\n  height: 50px;\n  width: 250px;\n  background-color: #ee4d2d;\n  color: white;\n  font-size: 20px;\n  font-weight: 700;\n`;\n\nexport { LandingPageContainer, PlayButton };\n","import React, { CSSProperties } from 'react';\nimport { ILoadingUIProps } from './interfaces';\n\nconst LoadingStyle: CSSProperties = {\n  position: 'fixed',\n  display: 'flex',\n  alignItems: 'center',\n  justifyContent: 'center',\n  backgroundColor: '#493a52',\n  color: 'white',\n  height: '100vh',\n  width: '100vw',\n};\n\nconst LoadingUI: React.FC<ILoadingUIProps> = ({ progress }) => {\n  return <div style={LoadingStyle}>Loading: {progress}%</div>;\n};\n\nexport default LoadingUI;\n","import React from 'react';\nimport {\n  IUseProgress,\n  IPhaserLoaderProps,\n  IPhaserLoaderState,\n} from './interfaces';\nimport { getRandomInt } from '../utils/getRandomInt';\nimport LoadingUI from './LoadingUI';\n\nexport default class PhaserLoader extends React.Component<\n  IPhaserLoaderProps,\n  IPhaserLoaderState\n> {\n  private limit: number = getRandomInt(50);\n  constructor(props: IPhaserLoaderProps) {\n    super(props);\n    this.state = {\n      hasFontLoaded: false,\n      progress: 0,\n    };\n  }\n\n  setProgress = (progress: number) => {\n    this.setState({ progress });\n  };\n\n  useProgress: () => IUseProgress = () => {\n    const { hasFontLoaded } = this.state;\n    const isReadyToLoad = this.state.progress >= this.limit;\n    return {\n      setProgress: this.setProgress,\n      hasFontLoaded,\n      isReadyToLoad,\n      limit: this.limit,\n    };\n  };\n\n  dummyLoad = () => {\n    setInterval(() => {\n      if (this.state.progress < this.limit) {\n        this.setProgress(this.state.progress + 1);\n      } else {\n        clearInterval();\n      }\n    }, 50);\n  };\n\n  componentDidMount() {\n    this.loadFont();\n    this.dummyLoad();\n  }\n\n  loadFont = () => {\n    // @ts-ignore\n    document.fonts.load('12px \"Exo\"').finally(() => {\n      this.setState({ hasFontLoaded: true });\n    });\n  };\n\n  renderPhaser = () => {\n    const PhaserComponent = this.props.component;\n    return <PhaserComponent useProgress={this.useProgress()} />;\n  };\n\n  render() {\n    return (\n      <>\n        {this.state.progress < 100 && (\n          <LoadingUI progress={this.state.progress} />\n        )}\n        {this.renderPhaser()}\n      </>\n    );\n  }\n}\n","export function getRandomInt(max: number) {\n  return Math.floor(Math.random() * Math.floor(max));\n}\n","import React from 'react';\nimport { ILandingPageProps, ILandingPageState } from '../interfaces';\nimport { LandingPageContainer, PlayButton } from '../styles/LandingPage';\nimport PhaserLoader from '../PhaserLoader';\nimport loadable from '@loadable/component';\nconst Phaser = loadable(() => import('../game'));\n\nclass LandingPage extends React.Component<\n  ILandingPageProps,\n  ILandingPageState\n> {\n  constructor(props: ILandingPageProps) {\n    super(props);\n    this.state = {\n      page: 'landing',\n    };\n  }\n\n  handlePlay = () => {\n    this.setState({ page: 'game' });\n  };\n  render() {\n    if (this.state.page === 'landing') {\n      return (\n        <LandingPageContainer>\n          <PlayButton onClick={this.handlePlay}>Play</PlayButton>\n        </LandingPageContainer>\n      );\n    }\n    return <PhaserLoader component={Phaser} />;\n  }\n}\n\nexport default LandingPage;\n","import React from 'react';\nimport { TENANT_ID } from './constants';\nimport { AppContainer, GlobalStyle } from './styles/global';\nimport LandingPage from './containers/LandingPage';\n\nconst App: React.FC = () => {\n  return (\n    <AppContainer>\n      <GlobalStyle isHelvetica={['vn', 'tw', 'th'].indexOf(TENANT_ID) >= 0} />\n      <h1>Dancing Bear</h1>\n      <LandingPage />\n    </AppContainer>\n  );\n};\n\nexport default App;\n","import { combineReducers } from 'redux';\n\nconst reducers = combineReducers<{}>({});\n\nexport default reducers;\n","import { applyMiddleware, createStore } from 'redux';\nimport ThunkMiddleware from 'redux-thunk';\n\nimport reducers from '../reducers';\n\nexport default createStore(reducers, applyMiddleware(ThunkMiddleware));\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","// Supporting for devices non ES6\nimport 'core-js';\nimport 'regenerator-runtime/runtime';\nimport 'whatwg-fetch';\n\nimport './webBridge';\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { BrowserRouter } from 'react-router-dom';\n\nimport './index.css';\n\nimport App from './App';\nimport store from './redux/store';\nimport * as serviceWorker from './serviceWorker';\n\n\nReactDOM.render((\n  <Provider store={store}>\n    <BrowserRouter basename={process.env.REACT_APP_FORTUNE_URL}>\n      <App />\n    </BrowserRouter>\n  </Provider>\n), document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}